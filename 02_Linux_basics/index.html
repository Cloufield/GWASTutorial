<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="HE Yunye">
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Linux - GWASTutorial</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="..">GWASTutorial</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Linux</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Pre-GWAS <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../01_Dataset/" class="dropdown-item">Sample Dataset</a>
</li>
                                    
<li>
    <a href="../03_Data_formats/" class="dropdown-item">Data Formats</a>
</li>
                                    
<li>
    <a href="../04_Data_QC/" class="dropdown-item">Data QC</a>
</li>
                                    
<li>
    <a href="../05_PCA/" class="dropdown-item">PCA</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">GWAS <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../06_Association_tests/" class="dropdown-item">Association tests</a>
</li>
                                    
<li>
    <a href="../Visualization/" class="dropdown-item">Visualization</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Post-GWAS <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../07_Annotation/" class="dropdown-item">Annotation</a>
</li>
                                    
<li>
    <a href="../08_LDSC/" class="dropdown-item">LDSC</a>
</li>
                                    
<li>
    <a href="../09_Gene_based_analysis/" class="dropdown-item">Gene/Gene-set tests</a>
</li>
                                    
<li>
    <a href="../10_PRS/" class="dropdown-item">PRS</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Others <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../80_anaconda/" class="dropdown-item">Anaconda</a>
</li>
                                    
<li>
    <a href="../81_jupyter_notebook/" class="dropdown-item">Jupyter notebook</a>
</li>
                                    
<li>
    <a href="../82_windows_linux_subsystem/" class="dropdown-item">WLS</a>
</li>
                                    
<li>
    <a href="../83_git_and_github/" class="dropdown-item">Git and github</a>
</li>
                                    
<li>
    <a href="../60_awk/" class="dropdown-item">awk</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                            <li class="nav-item">
                                <a rel="prev" href=".." class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../01_Dataset/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/Cloufield/GWASTutorial" class="nav-link"><i class="fa fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#introduction" class="nav-link">Introduction</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#linux-system-introduction" class="nav-link">Linux System Introduction</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#overview-of-the-basic-commands-in-linux" class="nav-link">Overview of the basic commands in Linux</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#commands" class="nav-link">Commands</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#directories" class="nav-link">Directories</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#manipulating-files" class="nav-link">Manipulating files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#archive-and-compression" class="nav-link">Archive and Compression</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#read-and-check-files" class="nav-link">Read and check files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#edit-files" class="nav-link">Edit files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#permission" class="nav-link">Permission</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#others" class="nav-link">Others</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#bash-scripts" class="nav-link">Bash scripts</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#advanced-text-editing" class="nav-link">Advanced text editing</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#job-scheduling-system" class="nav-link">Job scheduling system</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#git-and-github" class="nav-link">Git and Github</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#ssh" class="nav-link">SSH</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#links" class="nav-link">Links</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#download" class="nav-link">Download</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="introduction">Introduction</h1>
<p>This module is intended to provide a minumum introduction of the Linux system for handling genomic data.  </p>
<p>(If you are alreay familiar with Linux commands, it is completely ok to skip this module.)</p>
<p>If you are a beginner with no background in programming, then it would be helpful if you could learn some basic commands first. 
In this module, we will learn the most basic commands which enable you to handle genomic files in the terminal using command lines in linux system. </p>
<ul>
<li><a href="#linux-system-introduction">Linux introduction</a><ul>
<li>Linux kernel and distributions</li>
<li>GUI and CUI</li>
<li><code>man</code></li>
</ul>
</li>
<li><a href="#overview-of-the-basic-commands-in-linux">Overview and checking the manual pages</a></li>
<li><a href="#directories">Handling directories</a><ul>
<li>Absolute path and relative path</li>
</ul>
</li>
<li><a href="#manipulating-files">Manipulating files</a></li>
<li><a href="#archive-and-compression">Archiving and Compression</a></li>
<li><a href="#read-and-check-files">Checking files</a></li>
<li><a href="#edit-files">Editing files in terminal</a></li>
<li><a href="#permission">Permissions</a></li>
<li><a href="#others">Other useful commands</a></li>
<li><a href="#bash-scripts">Bash scripts</a></li>
<li><a href="#advanced-text-editing">Advanced text editing</a></li>
<li><a href="#job-scheduling-system">Job scheduling system</a></li>
<li><a href="#git-and-github">Git and Github</a></li>
<li><a href="#ssh">SSH</a></li>
<li><a href="#links">Symbolic link</a></li>
<li><a href="#download">Downloading</a></li>
</ul>
<h1 id="linux-system-introduction">Linux System Introduction</h1>
<h3 id="what-is-linux">What is Linux?</h3>
<p>Linux: a family of open-source Unix-like operating systems based on the Linux kernel. </p>
<p><img alt="image" src="https://user-images.githubusercontent.com/40289485/161374551-1ef3b509-b345-4be3-b45b-3f86c466aa5a.png" /></p>
<p>Reference: https://en.wikipedia.org/wiki/Linux</p>
<h3 id="how-do-we-interact-with-computers">How do we interact with computers?</h3>
<ul>
<li><strong>Graphical User Interface (GUI)</strong>: allows users to interact with computers through graphical icons </li>
<li><strong>Character User Interface (CUI)</strong>: allows users to interact with computers through command lines</li>
</ul>
<p><img alt="image" src="https://user-images.githubusercontent.com/40289485/161374590-fd4bfee0-e815-475b-8a73-e53d97447e74.png" /></p>
<h3 id="a-general-comparison-between-cui-and-gui">A general comparison between CUI and GUI</h3>
<table>
<thead>
<tr>
<th></th>
<th>GUI</th>
<th>CUI</th>
</tr>
</thead>
<tbody>
<tr>
<td>Interaction</td>
<td>Graphics</td>
<td>Command line</td>
</tr>
<tr>
<td>Precision</td>
<td>LOW</td>
<td>HIGH</td>
</tr>
<tr>
<td>Speed</td>
<td>LOW</td>
<td>HIGH</td>
</tr>
<tr>
<td>Memory required</td>
<td>HIGH</td>
<td>LOW</td>
</tr>
<tr>
<td>Ease of operation</td>
<td>Easier</td>
<td>DIFFICULT</td>
</tr>
<tr>
<td>Flexibility</td>
<td>MORE flexible</td>
<td>LESS flexible</td>
</tr>
</tbody>
</table>
<p>-&gt; CUI is better for large-scale data analysis</p>
<h1 id="overview-of-the-basic-commands-in-linux">Overview of the basic commands in Linux</h1>
<p>Just like clicking and dragging files in Windows or MacOS, in Linux, we usually handle files by typing commands in the terminal.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/40289485/161308638-18a0efbf-92df-4795-87be-72080db316c6.png" /></p>
<p>Here is a list of the basic commands we are going to cover in this brief tutorial:</p>
<table>
<thead>
<tr>
<th>Function group</th>
<th>Commands</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Directories</td>
<td><code>pwd</code>, <code>ls</code>, <code>mkdir</code>, <code>rmdir</code></td>
<td>Commands for checking, creating and removing directories</td>
</tr>
<tr>
<td>Files</td>
<td><code>touch</code>,<code>cp</code>,<code>mv</code>,<code>rm</code></td>
<td>Commands for creating, copying, moving and removing files</td>
</tr>
<tr>
<td>Checking files</td>
<td><code>cat</code>,<code>zcat</code>,<code>head</code>,<code>tail</code>,<code>less</code>,<code>more</code>,<code>wc</code></td>
<td>Commands for inspecting files</td>
</tr>
<tr>
<td>Archiving and compression</td>
<td><code>tar</code>,<code>gzip</code>,<code>gunzip</code>,<code>zip</code>,<code>unzip</code></td>
<td>Commands for Archiving and Compressing files</td>
</tr>
<tr>
<td>Manipulating text</td>
<td><code>sort</code>,<code>uniq</code>,<code>cut</code>,<code>join</code>,<code>tr</code></td>
<td>Commands for manipulating text files</td>
</tr>
<tr>
<td>Modifying permission</td>
<td><code>chmod</code>,<code>chown</code>, <code>chgrp</code></td>
<td>Commands for changing the permissions of files and directories</td>
</tr>
<tr>
<td>Links</td>
<td><code>ln</code></td>
<td>Commands for creating symbolic and hard links</td>
</tr>
<tr>
<td>Pipe, redirect and others</td>
<td>pipe, <code>&gt;</code>,<code>&gt;&gt;</code>,<code>*</code>,<code>.</code>,<code>..</code></td>
<td>A group of miscellaneous commands</td>
</tr>
<tr>
<td>Advance text editing</td>
<td><code>awk</code>, <code>sed</code></td>
<td>Commands for more complicated text manipulation and editing</td>
</tr>
</tbody>
</table>
<h3 id="how-to-check-the-usage-of-a-command-using-man">How to check the usage of a command using <code>man</code>:</h3>
<p>The first command we might want to learn is <code>man</code>, which shows the manual for a certain command. When you forget how to use a command, you can always use <code>man</code> to check.</p>
<p><code>man</code> : Check the manual of a command (e.g., <code>man chmod</code>) or <code>--help</code> option (e.g., <code>chmod --help</code>)</p>
<p>For example, we want to check the usage of <code>pwd</code>:</p>
<pre><code class="language-Bash">$ man pwd

</code></pre>
<p>Then you will see the manual of <code>pwd</code> in your terminal.</p>
<pre><code class="language-Bash">
PWD(1)                                              User Commands                                              PWD(1)

NAME
       pwd - print name of current/working directory

SYNOPSIS
       pwd [OPTION]...

DESCRIPTION
       Print the full filename of the current working directory.
....
</code></pre>
<h1 id="commands">Commands</h1>
<h2 id="directories">Directories</h2>
<p>The first set of commands are: <code>pwd</code> , <code>cd</code> , <code>ls</code>, <code>mkdir</code> and <code>rmdir</code>, which are related to directories (like the folders in a Windows system).</p>
<h3 id="pwd"><code>pwd</code></h3>
<p><code>pwd</code> : Print working directory, which means print the path of the current directory (working directory)</p>
<pre><code class="language-Bash">$ pwd
/home/he/work/GWASTutorial/02_Linux_basics
</code></pre>
<p>This command prints the absolute path.
<img alt="image" src="https://user-images.githubusercontent.com/40289485/161308808-6a8c97a9-4c7d-46cf-9e67-c5876415866f.png" /></p>
<ul>
<li><strong>Absolute path</strong>: path starting form root: <code>/home/he/work/GWASTutorial/02_Linux_basics</code></li>
<li><strong>Relative path</strong>: path starting form current directory: <code>./GWASTutorial/02_Linux_basics</code></li>
</ul>
<h3 id="cd"><code>cd</code></h3>
<p><code>cd</code>: Change the current working directory </p>
<pre><code class="language-Bash">$ cd 02_Linux_basics
$ pwd
/home/he/work/GWASTutorial/02_Linux_basics
</code></pre>
<h3 id="ls"><code>ls</code> :</h3>
<p><code>ls</code> : List the files in the directory</p>
<p>Some frequently used options for <code>ls</code> :</p>
<ul>
<li><code>-l</code>: in a list-like format</li>
<li><code>-h</code>: convert file size into a human readable format (KB,MB,GB...)</li>
<li><code>-a</code>: list all files (including hidden files, namly those files a period at the beginning of the filename)</li>
</ul>
<pre><code class="language-Bash">$ ls
README.md  sumstats.txt

$ ls -lha
drwxr-xr-x   4 he  staff   128B Dec 23 14:07 .
drwxr-xr-x  17 he  staff   544B Dec 23 12:13 ..
-rw-r--r--   1 he  staff     0B Oct 17 11:24 README.md
-rw-r--r--   1 he  staff    31M Dec 23 14:07 sumstats.txt
</code></pre>
<h3 id="mkdir-rmdir"><code>mkdir</code> &amp; <code>rmdir</code> :</h3>
<ul>
<li><code>mkdir</code> : Create a new empty directory</li>
<li><code>rmdir</code>: Delete an empty directory</li>
</ul>
<pre><code class="language-Bash">$ mkdir new_directory
$ ls
new_directory  README.md  sumstats.txt
$ rmdir new_directory/
$ ls
README.md  sumstats.txt
</code></pre>
<h2 id="manipulating-files">Manipulating files</h2>
<p>This set of commands includes: <code>touch</code>, <code>mv</code> , <code>rm</code> and <code>cp</code></p>
<h3 id="touch"><code>touch</code>:</h3>
<p><code>touch</code> command is used to create a new empty file.</p>
<p>For example, let's create a text file called <code>newfile.txt</code> in this directory.</p>
<pre><code class="language-Bash">$ ls -l
total 64048
-rw-r--r--  1 he  staff         0 Oct 17 11:24 README.md
-rw-r--r--  1 he  staff  32790417 Dec 23 14:07 sumstats.txt

touch newfile.txt

$ touch newfile.txt
$ ls -l
total 64048
-rw-r--r--  1 he  staff         0 Oct 17 11:24 README.md
-rw-r--r--  1 he  staff         0 Dec 23 14:14 newfile.txt
-rw-r--r--  1 he  staff  32790417 Dec 23 14:07 sumstats.txt

</code></pre>
<h3 id="mv"><code>mv</code>:</h3>
<p><code>mv</code> has two functions:</p>
<ul>
<li>(1) move files to another paths</li>
<li>(2) rename files</li>
</ul>
<p>The following command will create a new directoru called <code>new_directory</code>, and move <code>sumstats.txt</code> into that directory. Just like draggig a file in to a folder in window system.</p>
<pre><code class="language-Bash"># make a new directory
$ mkdir new_directory

#move sumstats to the new directory
$ mv sumstats.txt new_directory/

# list the item in new_directory
$ ls new_directory/
sumstats.txt
</code></pre>
<p>Now, let's move it back to the current directory and rename it to <code>sumstats_new.txt</code>.</p>
<pre><code class="language-Bash">$ mv ./new_directory/sumstats.txt ./
</code></pre>
<p>Note: <code>./</code> means the current directory
You can also use <code>mv</code> to rename a file:</p>
<pre><code class="language-Bash">#rename
$mv sumstats.txt sumstats_new.txt 
</code></pre>
<h3 id="rm"><code>rm</code>:</h3>
<p>remove files or diretories</p>
<pre><code class="language-Bash"># remove a file
$rm file

#remove files in a directory (recursive mode)
$rm -r directory/
</code></pre>
<h3 id="cp"><code>cp</code></h3>
<p><code>cp</code> command is used to copy files or diretories.</p>
<pre><code class="language-Bash">#cp files
$cp file1 file2

# copy directory
$cp -r directory1/ directory2/
</code></pre>
<h2 id="archive-and-compression">Archive and Compression</h2>
<p>Results for millions of variants are usually very large, sometimes &gt;10GB, or consists of multiple files. </p>
<p>To save space and make it easier to transfer, we need to archive and compress these files.</p>
<ul>
<li><strong>Archive</strong>: combine multiple files in a single file.</li>
<li><strong>Compress</strong>: make the file size smaller without losing any infomation by convertying the file to binary forms.</li>
</ul>
<p><img alt="image" src="https://user-images.githubusercontent.com/40289485/160957877-9148b34a-93e8-40cc-9acc-7c5bb9435b71.png" /></p>
<p>Commoly used commands for archiving and compression:</p>
<table>
<thead>
<tr>
<th>Extensions</th>
<th>Create</th>
<th>Extract</th>
<th>Functions</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>file.gz</code></td>
<td><code>gzip</code></td>
<td><code>gunzip</code></td>
<td>compress</td>
</tr>
<tr>
<td><code>files.tar</code></td>
<td><code>tar -cvf</code></td>
<td><code>tar -xvf</code></td>
<td>archive</td>
</tr>
<tr>
<td><code>files.tar.gz</code> or <code>files.tgz</code></td>
<td><code>tar -czvf</code></td>
<td><code>tar -xvzf</code></td>
<td>archive and compress</td>
</tr>
<tr>
<td><code>file.zip</code></td>
<td><code>zip</code></td>
<td><code>unzip</code></td>
<td>archive and compress</td>
</tr>
</tbody>
</table>
<pre><code class="language-Bash">$ ls -lh
-rw-r--r--  1 he  staff    31M Dec 23 14:07 sumstats.txt

$ gzip sumstats.txt
$ ls -lh
-rw-r--r--  1 he  staff   9.9M Dec 23 14:07 sumstats.txt.gz

$ gunzip sumstats.txt.gz
$ ls -lh
-rw-r--r--   1 he  staff    31M Dec 23 14:07 sumstats.txt
</code></pre>
<h2 id="read-and-check-files">Read and check files</h2>
<p>We have a group of handy commands to check part of or the entire file, including <code>cat</code>, <code>zcat</code>, <code>less</code>, <code>head</code>, <code>tail</code>, <code>wc</code></p>
<h3 id="cat"><code>cat</code></h3>
<p>print the file or concatenate the files</p>
<pre><code class="language-Bash">$ ls -lha &gt; a_text_file.txt
$ cat a_text_file.txt 
total 32M
drwxr-x---  2 he staff 4.0K Apr  2 00:37 .
drwxr-x--- 29 he staff 4.0K Apr  1 22:20 ..
-rw-r-----  1 he staff    0 Apr  2 00:37 a_text_file.txt
-rw-r-----  1 he staff 5.0K Apr  1 22:20 README.md
-rw-r-----  1 he staff  32M Mar 30 18:17 sumstats.txt

</code></pre>
<p>!!! Be careful not to <code>cat</code> a text file with a huge number of lines. You can try to <code>cat sumstats.txt</code> and see what happends.</p>
<p>By the way, <code>&gt; a_text_file.txt</code> here means redirect the output to file <code>a_text_file.txt</code>.</p>
<h3 id="zcat"><code>zcat</code></h3>
<p><code>zcat</code> is similar to <code>cat</code>, but can only applied to compressed files.</p>
<pre><code class="language-Bash">$ gzip a_text_file.txt 
$ cat a_text_file.txt.gz                                                         TGba_text_file.txtя
@ȱ»O𻀙v؂𧢩¼򀳠bq}󑢤\¤n٢ª򠀬n»ڡǭ
                          w5J_½𳘧P߉=ÿK
(֣԰§ҤŶaކ                              ¬M­R󽒊m³þe¸¤¼׍Sd￱߲들ª­v
       婁                                                                                                               resize: unknown character, exiting.

$ zcat a_text_file.txt.gz 
total 32M
drwxr-x---  2 he staff 4.0K Apr  2 00:37 .
drwxr-x--- 29 he staff 4.0K Apr  1 22:20 ..
-rw-r-----  1 he staff    0 Apr  2 00:37 a_text_file.txt
-rw-r-----  1 he staff 5.0K Apr  1 22:20 README.md
-rw-r-----  1 he staff  32M Mar 30 18:17 sumstats.txt
</code></pre>
<h3 id="head"><code>head</code></h3>
<p><code>head</code>: Print the first 10 lines.</p>
<p><code>-n</code>: option to change the number of lines.</p>
<pre><code class="language-Bash">$ head sumstats.txt 
CHROM   POS ID  REF ALT A1  TEST    OBS_CT  OR  LOG(OR)_SE  Z_STAT  P   ERRCODE
1   319 17  2   1   1   ADD 10000   1.04326 0.0495816   0.854176    0.393008    .
1   319 22  1   2   2   ADD 10000   1.03347 0.0493972   0.666451    0.505123    .
1   418 23  1   2   2   ADD 10000   1.02668 0.0498185   0.528492    0.597158    .
1   537 30  1   2   2   ADD 10000   1.01341 0.0498496   0.267238    0.789286    .
1   546 31  2   1   1   ADD 10000   1.02051 0.0336786   0.60284 0.546615    .
1   575 33  2   1   1   ADD 10000   1.09795 0.0818305   1.14199 0.25346 .
1   752 44  2   1   1   ADD 10000   1.02038 0.0494069   0.408395    0.682984    .
1   913 50  2   1   1   ADD 10000   1.07852 0.0493585   1.53144 0.12566 .
1   1356    77  2   1   1   ADD 10000   0.947521    0.0339805   -1.5864 0.112649    .

$ head -n 1 sumstats.txt 
CHROM   POS ID  REF ALT A1  TEST    OBS_CT  OR  LOG(OR)_SE  Z_STAT  P   ERRCODE
</code></pre>
<h3 id="tail"><code>tail</code></h3>
<p>Similar to <code>head</code>, you can use <code>tail</code> ro check the last 10 lines. <code>-n</code> works in the same way.</p>
<pre><code class="language-Bash">$ tail sumstats.txt 
22  99996057    9959945 2   1   1   ADD 10000   1.03234 0.0335547   0.948413    0.342919.
22  99996465    9959971 2   1   1   ADD 10000   1.04755 0.0337187   1.37769 0.1683  .
22  99997041    9960013 2   1   1   ADD 10000   1.01942 0.0937548   0.205195    0.837419.
22  99997608    9960051 2   1   1   ADD 10000   0.969928    0.0397711   -0.767722   0.442652    .
22  99997629    9960055 2   1   1   ADD 10000   0.986949    0.0395305   -0.332315   0.739652    .
22  99997742    9960061 2   1   1   ADD 10000   0.990829    0.0396614   -0.232298   0.816307    .
22  99998121    9960086 2   1   1   ADD 10000   1.04448 0.0335879   1.29555 0.19513 .
22  99998455    9960106 2   1   1   ADD 10000   0.880953    0.152754    -0.829771   0.406668    .
22  99999208    9960146 2   1   1   ADD 10000   0.944604    0.065187    -0.874248   0.381983    .
22  99999382    9960164 2   1   1   ADD 10000   0.970509    0.033978    -0.881014   0.37831 .
</code></pre>
<h3 id="wc"><code>wc</code></h3>
<p><code>wc</code>: short for word count, which count the lines, words, and characters in a file.</p>
<p>For example, </p>
<pre><code class="language-Bash">$ wc sumstats.txt 
  445933  5797129 32790417 sumstats.txt
</code></pre>
<p>This means that <code>sumstats.txt</code> has 445933 lines, 5797129 words, and 32790417 characters. </p>
<h2 id="edit-files">Edit files</h2>
<p><strong>Vim</strong> is a handy text editor in command line.</p>
<pre><code class="language-Bash">vim a_new_file.txt
</code></pre>
<p>Press <code>i</code> to enter insert mode, and then you can edit the file as you want.
When finished, just pres <code>Esc</code> to escape insert mode, and then press <code>shift + :</code> , then <code>wq</code> to quit and also save the file.</p>
<p>Vim is hard to learn for beginners, but when you get familiar with it, it will be a mighty and convenient tool.
For more detailed tutorials on Vim, you can check: https://github.com/iggredible/Learn-Vim</p>
<p>Other common command line text editor:
- <a href="https://www.nano-editor.org/">nano</a>
- <a href="https://www.gnu.org/software/emacs/">emacs</a></p>
<h2 id="permission">Permission</h2>
<p>The permissions of a file or directory are represented as a 10-character string (1+3+3+3) :</p>
<p>For example, this represents a directory(the initial d) which is readable, writable and executable for the owner(the first 3: rwx), users in the same group(the 3 characters in the middle: rwx) and others (last 3 characters: rwx).</p>
<p><code>drwxrwxrwx</code></p>
<p>-&gt; <code>d (directory or file) rwx (permissions for owner) rwx (permissions for users in the same group) rwx (permissions for other users)</code></p>
<table>
<thead>
<tr>
<th>Notation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>r</code></td>
<td>readable</td>
</tr>
<tr>
<td><code>w</code></td>
<td>writable</td>
</tr>
<tr>
<td><code>x</code></td>
<td>executable</td>
</tr>
<tr>
<td><code>d</code></td>
<td>directory</td>
</tr>
<tr>
<td><code>-</code></td>
<td>file</td>
</tr>
</tbody>
</table>
<p>Command for checking the permissions of files in the current directory: <code>ls -l</code></p>
<p>Command for changing permissions: <code>chmod</code>, <code>chown</code>, <code>chgrp</code></p>
<p>Syntax:</p>
<pre><code class="language-Bash">chmod [3-digit Binary notation] [path]
</code></pre>
<table>
<thead>
<tr>
<th>Number notation</th>
<th>Permission</th>
<th>3-digit Binary notation</th>
</tr>
</thead>
<tbody>
<tr>
<td>7</td>
<td><code>rwx</code></td>
<td>111</td>
</tr>
<tr>
<td>6</td>
<td><code>rw-</code></td>
<td>110</td>
</tr>
<tr>
<td>5</td>
<td><code>r-x</code></td>
<td>101</td>
</tr>
<tr>
<td>4</td>
<td><code>r--</code></td>
<td>100</td>
</tr>
<tr>
<td>3</td>
<td><code>-wx</code></td>
<td>011</td>
</tr>
<tr>
<td>2</td>
<td><code>-w-</code></td>
<td>010</td>
</tr>
<tr>
<td>1</td>
<td><code>--x</code></td>
<td>001</td>
</tr>
<tr>
<td>0</td>
<td><code>---</code></td>
<td>000</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre><code class="language-Bash"># there is a readme file in the directory, and its permissions are -rw-r----- 
$ ls -lh
total 4.0K
-rw-r----- 1 he staff 2.1K Feb 24 01:16 README.md

# let's change the permissions to 660, which is a numeric notation of -rw-rw---- based on the table above
$ chmod 660 README.md 

# chack again, and it was changed.
$ ls -lh
total 4.0K
-rw-rw---- 1 he staff 2.1K Feb 24 01:16 README.md

</code></pre>
<p>Note: These commands are very important because we use genome data, which could raise severe ethical and privacy issues if there is data leak. </p>
<p><img alt="image" src="https://user-images.githubusercontent.com/40289485/160775846-a121f48e-5652-456f-8ced-7a3a82a8d995.png" /></p>
<h2 id="others">Others</h2>
<p>There are a group of very handy and flexible commands which will greatly improve your efficiency. These include <code>|</code> , <code>&gt;</code>, <code>&gt;&gt;</code>,<code>*</code>,<code>.</code>,<code>..</code>,<code>~</code>,and <code>-</code>.</p>
<h3 id="pipe"><code>|</code>  (pipe)</h3>
<p>Pipe basically is used to pass the output of the previous command to the next command as input, instead of printing is in terminal.
Using pipe you can do very complicated manipulations of the files.</p>
<pre><code class="language-Bash">cat sumstats.txt | sort | uniq | wc
</code></pre>
<p>This means (1) print sumstats, (2) sort the output, (3) then keep the unique lines and finally (4) count the lines and words.</p>
<h3 id="_1"><code>&gt;</code></h3>
<p><code>&gt;</code> redirects output to a new file (if the file already exist, it will be overwritten)</p>
<pre><code class="language-Bash">cat sumstats.txt | sort | uniq | wc &gt; count.txt
</code></pre>
<h3 id="_2"><code>&gt;&gt;</code></h3>
<p><code>&gt;&gt;</code> redirects output to a file by appending to the end of the file (if the file already exist, it will not be overwritten)</p>
<pre><code class="language-Bash">cat sumstats.txt | sort | uniq | wc &gt;&gt; count.txt
</code></pre>
<h3 id="_3"><code>*</code></h3>
<p><code>*</code> means all files.</p>
<p>Note: <code>Be extremely careful when you use rm and *. It is disastrous when you mistakenly type</code>rm *``</p>
<h3 id="_4"><code>.</code></h3>
<p><code>.</code> means the current directory.</p>
<h3 id="_5"><code>..</code></h3>
<p><code>..</code> means the parent directory of the current directory.</p>
<h3 id="_6"><code>~</code></h3>
<p><code>~</code> means your home directory.</p>
<h3 id="-"><code>-</code></h3>
<p><code>-</code> means the last directory you are working in.</p>
<h2 id="bash-scripts">Bash scripts</h2>
<p>If you have a lot of commands to run, or if you want to automate some complex manipulations, bash scripts are a good way to address this issue.</p>
<p>We can use vim to create a bash script called <code>hello.sh</code></p>
<p>A simple example of bash scripts:</p>
<pre><code class="language-Bash">#!/bin/bash
echo &quot;Hello, world1&quot;
echo &quot;Hello, world2&quot;
</code></pre>
<p><code>#!</code> is called shebang, which tells the system which interpreter to use to excute the shell script.</p>
<p>Then use <code>chmod</code> to give it permission to execute.</p>
<pre><code class="language-Bash">chmod +x hello.sh 
</code></pre>
<p>Now we can run the srcipt by <code>./hello.sh</code>:</p>
<pre><code class="language-Bash">./hello.sh
&quot;Hello, world1&quot; 
&quot;Hello, world2&quot; 
</code></pre>
<h2 id="advanced-text-editing">Advanced text editing</h2>
<p>(optional)
(awk, sed, cut, sort, join, uniq)</p>
<h2 id="job-scheduling-system">Job scheduling system</h2>
<p>(If needed) Try to use job scheduling system to run a simple script (slurm on lab server)
sbatch , scancel 
sq, sjobs, shosts</p>
<h2 id="git-and-github">Git and Github</h2>
<p>Git is a powerful version control software and github is a platform where you can share your codes.</p>
<p>Currently you just need to learn <code>git clone</code>, which simply downloads an existing repository.</p>
<p><code>git clone https://github.com/Cloufield/GWASTutorial.git</code></p>
<p>You can also check <a href="https://cloufield.github.io/GWASTutorial/83_git_and_github/">here</a> for more information.</p>
<p>Git Reference: https://git-scm.com/doc</p>
<p>Cheatsheet: https://training.github.com/downloads/github-git-cheat-sheet/</p>
<h2 id="ssh">SSH</h2>
<p>SSH stands for Secure Shell Protocol, which enables you to connect to remote server safely.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/40289485/161377030-911a5bed-f58b-4d27-8ffa-0c6b553e5c62.png" /></p>
<p>login to romote server:</p>
<pre><code class="language-Bash">ssh &lt;username&gt;@&lt;host&gt;
</code></pre>
<p>Before you login in, you need to generate keys for ssh connection:</p>
<pre><code class="language-Bash">ssh-keygen -t rsa -b 4096
</code></pre>
<p>You will get two keys, a public one and a private one.</p>
<ul>
<li>public key  :  <code>~/.ssh/id_rsa.pub</code></li>
<li>private key :  <code>~/.ssh/id_rsa</code>   ,please don't share this with others.       </li>
</ul>
<p>What you need to do is just add you local public key to <code>~/.ssh/authorized_keys</code> on host server.</p>
<h2 id="links">Links</h2>
<p>symbolic link is like a shortcut on window system, which is a special type of file that points to another file.
It is very useful when you want to organize your tool box or working space.
You can use <code>ln -s pathA pathB</code> to create such a link. </p>
<p>Example:</p>
<pre><code class="language-Bash">ln -s /home/he/tools/plink/plink /home/he/tools/bin

cd /home/he/tools/bin
ls -lha
...Bash
lrwxr-xr-x  1 he  staff    27B Aug 30 11:30 plink -&gt; /home/he/tools/plink/plink
</code></pre>
<h2 id="download">Download</h2>
<p>We can use <code>wget [option] [url]</code> command to download files to local machine.</p>
<p><code>-O</code> option specify the file name you want to change for the downloaded file. </p>
<p>Example:</p>
<pre><code class="language-Bash"># Download hg19 reference genome from UCSC
wget https://hgdownload.soe.ucsc.edu/goldenPath/hg19/bigZips/hg19.fa.gz

# Download hg19 reference genome from UCSC and rename it to  my_refgenome.fa.gz
wget -O my_refgenome.fa.gz https://hgdownload.soe.ucsc.edu/goldenPath/hg19/bigZips/hg19.fa.gz
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>GWASTutorial is licensed under the MIT license</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>

        <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
