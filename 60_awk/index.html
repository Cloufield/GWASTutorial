
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="HE Yunye">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.15">
    
    
      
        <title>Text editing - awk - GWASTutorial</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.c382b1dc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cc9b2e1e.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#awk" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="GWASTutorial" class="md-header__button md-logo" aria-label="GWASTutorial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            GWASTutorial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Text editing - awk
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/Cloufield/GWASTutorial" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../02_Linux_basics/" class="md-tabs__link md-tabs__link--active">
        Command Line
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../01_Dataset/" class="md-tabs__link">
        Pre-GWAS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../06_Association_tests/" class="md-tabs__link">
        GWAS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../07_Annotation/" class="md-tabs__link">
        Post-GWAS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../90_Recommended_Reading/" class="md-tabs__link">
        Others
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="GWASTutorial" class="md-nav__button md-logo" aria-label="GWASTutorial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    GWASTutorial
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Cloufield/GWASTutorial" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" data-md-state="indeterminate" type="checkbox" id="__nav_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Tutorial guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../99_About/" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Command Line
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Command Line" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Command Line
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../02_Linux_basics/" class="md-nav__link">
        Linux Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../82_windows_linux_subsystem/" class="md-nav__link">
        Windows Linux Subsystem
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../84_ssh/" class="md-nav__link">
        SSH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../85_job_scheduler/" class="md-nav__link">
        Job scheduler
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Text editing - awk
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Text editing - awk
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#awk-introduction" class="md-nav__link">
    AWK Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-syntax" class="md-nav__link">
    AWK syntax
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1" class="md-nav__link">
    Example 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2" class="md-nav__link">
    Example 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-3" class="md-nav__link">
    Example 3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-workflow" class="md-nav__link">
    awk workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-variables" class="md-nav__link">
    awk variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-functions" class="md-nav__link">
    awk functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-options" class="md-nav__link">
    awk options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    Reference
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../61_sed/" class="md-nav__link">
        Text editing - sed
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../69_resources/" class="md-nav__link">
        Linux Resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" data-md-state="indeterminate" type="checkbox" id="__nav_2_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../70_python_basics/" class="md-nav__link">
        Python Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../71_python_resources/" class="md-nav__link">
        Python Resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../80_anaconda/" class="md-nav__link">
        Anaconda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../81_jupyter_notebook/" class="md-nav__link">
        Jupyter notebook
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" data-md-state="indeterminate" type="checkbox" id="__nav_2_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3">
          R
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="R" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          R
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../75_R_basics/" class="md-nav__link">
        R Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../76_R_resources/" class="md-nav__link">
        R Resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" data-md-state="indeterminate" type="checkbox" id="__nav_2_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_4">
          Other tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Other tools" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Other tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../83_git_and_github/" class="md-nav__link">
        Git and github
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" data-md-state="indeterminate" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Pre-GWAS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Pre-GWAS" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Pre-GWAS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../01_Dataset/" class="md-nav__link">
        Sample Dataset
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../03_Data_formats/" class="md-nav__link">
        Data Formats
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../04_Data_QC/" class="md-nav__link">
        Genotype Data QC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../05_PCA/" class="md-nav__link">
        Sample PCA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plot_PCA/" class="md-nav__link">
        Plotting PCA
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" data-md-state="indeterminate" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          GWAS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="GWAS" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          GWAS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../06_Association_tests/" class="md-nav__link">
        Association tests by PLINK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Visualization/" class="md-nav__link">
        Visualization by gwaslab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../33_linear_mixed_model/" class="md-nav__link">
        Linear mixed model (LMM)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../32_whole_genome_regression/" class="md-nav__link">
        Whole genome regression by REGENIE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" data-md-state="indeterminate" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Post-GWAS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Post-GWAS" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Post-GWAS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../07_Annotation/" class="md-nav__link">
        Annotation by ANNOVAR & VEP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../15_winners_curse/" class="md-nav__link">
        Winner's curse
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../13_heritability/" class="md-nav__link">
        Heritability Concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../14_gcta_greml/" class="md-nav__link">
        SNP-heritability estimation by GREML
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../08_LDSC/" class="md-nav__link">
        LD socre regression by LDSC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../09_Gene_based_analysis/" class="md-nav__link">
        Gene/Gene-set tests by MAGMA
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_7" data-md-state="indeterminate" type="checkbox" id="__nav_5_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_7">
          Fine-mapping by susieR
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Fine-mapping by susieR" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_7">
          <span class="md-nav__icon md-icon"></span>
          Fine-mapping by susieR
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../12_fine_mapping/" class="md-nav__link">
        Fine-mapping Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../finemapping_susie/" class="md-nav__link">
        Finemapping using susieR
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../11_meta_analysis/" class="md-nav__link">
        Meta-analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_9" data-md-state="indeterminate" type="checkbox" id="__nav_5_9" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_9">
          Polygenic Risk Score
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Polygenic Risk Score" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_9">
          <span class="md-nav__icon md-icon"></span>
          Polygenic Risk Score
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../10_PRS/" class="md-nav__link">
        PRS Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../PRS_evaluation/" class="md-nav__link">
        PRS evaluation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../prs_evaluation/" class="md-nav__link">
        PRS Tutorial
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_10" data-md-state="indeterminate" type="checkbox" id="__nav_5_10" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_10">
          Mendelian randomization
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Mendelian randomization" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_10">
          <span class="md-nav__icon md-icon"></span>
          Mendelian randomization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../16_mendelian_randomization/" class="md-nav__link">
        MR Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../TwoSampleMR/" class="md-nav__link">
        TwoSampleMR Tutorial
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../18_Conditioning_analysis/" class="md-nav__link">
        Conditional analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_12" data-md-state="indeterminate" type="checkbox" id="__nav_5_12" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_12">
          Colocalization
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Colocalization" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_12">
          <span class="md-nav__icon md-icon"></span>
          Colocalization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../17_colocalization/" class="md-nav__link">
        Colocalization
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" data-md-state="indeterminate" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Others
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Others" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Others
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../90_Recommended_Reading/" class="md-nav__link">
        Recommended reading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../95_Assignment/" class="md-nav__link">
        Assignment - 1KG PCA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../96_Assignment2/" class="md-nav__link">
        Assignment - Presentation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#awk-introduction" class="md-nav__link">
    AWK Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-syntax" class="md-nav__link">
    AWK syntax
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1" class="md-nav__link">
    Example 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2" class="md-nav__link">
    Example 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-3" class="md-nav__link">
    Example 3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-workflow" class="md-nav__link">
    awk workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-variables" class="md-nav__link">
    awk variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-functions" class="md-nav__link">
    awk functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-options" class="md-nav__link">
    awk options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    Reference
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="awk">AWK</h1>
<h2 id="awk-introduction">AWK Introduction</h2>
<p>'awk' is one of the most powerful text processing tools for tabular text files.</p>
<h2 id="awk-syntax">AWK syntax</h2>
<div class="highlight"><pre><span></span><code>awk OPTION &#39;CONDITION {PROCESS}&#39; FILENAME
</code></pre></div>
<p>Some special variables in awk:</p>
<ul>
<li><code>$0</code> : all columns</li>
<li><code>$n</code> : column n. For example, $1 means the first column. $4 means column 4.</li>
<li><code>NR</code> : Row number.</li>
</ul>
<h2 id="examples">Examples</h2>
<p>Using the sample sumstats, we will demonstate some simple but useful one-liners.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># sample sumstats</span>
head<span class="w"> </span>../02_Linux_basics/sumstats.txt<span class="w"> </span>
<span class="c1">#CHROM  POS ID  REF ALT A1  TEST    OBS_CT  OR  LOG(OR)_SE  Z_STAT  P   ERRCODE</span>
<span class="m">1</span><span class="w">   </span><span class="m">13273</span><span class="w">   </span><span class="m">1</span>:13273:G:C<span class="w"> </span>G<span class="w">   </span>C<span class="w">   </span>C<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">0</span>.7461490.282904<span class="w">    </span>-1.03509<span class="w">    </span><span class="m">0</span>.300628<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">14599</span><span class="w">   </span><span class="m">1</span>:14599:T:A<span class="w"> </span>T<span class="w">   </span>A<span class="w">   </span>A<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.676930.240899<span class="w"> </span><span class="m">2</span>.14598<span class="w"> </span><span class="m">0</span>.0318742<span class="w">   </span>.
<span class="m">1</span><span class="w">   </span><span class="m">14604</span><span class="w">   </span><span class="m">1</span>:14604:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.676930.240899<span class="w"> </span><span class="m">2</span>.14598<span class="w"> </span><span class="m">0</span>.0318742<span class="w">   </span>.
<span class="m">1</span><span class="w">   </span><span class="m">14930</span><span class="w">   </span><span class="m">1</span>:14930:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.643590.242872<span class="w"> </span><span class="m">2</span>.04585<span class="w"> </span><span class="m">0</span>.0407708<span class="w">   </span>.
<span class="m">1</span><span class="w">   </span><span class="m">69897</span><span class="w">   </span><span class="m">1</span>:69897:T:C<span class="w"> </span>T<span class="w">   </span>C<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.691420.200238<span class="w"> </span><span class="m">2</span>.62471<span class="w"> </span><span class="m">0</span>.00867216<span class="w">  </span>.
<span class="m">1</span><span class="w">   </span><span class="m">86331</span><span class="w">   </span><span class="m">1</span>:86331:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.418870.238055<span class="w"> </span><span class="m">1</span>.46968<span class="w"> </span><span class="m">0</span>.141649<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">91581</span><span class="w">   </span><span class="m">1</span>:91581:G:A<span class="w"> </span>G<span class="w">   </span>A<span class="w">   </span>A<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">0</span>.9313040.123644<span class="w">    </span>-0.575598<span class="w">   </span><span class="m">0</span>.564887<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">122872</span><span class="w">  </span><span class="m">1</span>:122872:T:G<span class="w">    </span>T<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.048280.182036<span class="w"> </span><span class="m">0</span>.259034<span class="w">    </span><span class="m">0</span>.795609<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">135163</span><span class="w">  </span><span class="m">1</span>:135163:C:T<span class="w">    </span>C<span class="w">   </span>T<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">0</span>.6766660.242611<span class="w">    </span>-1.60989<span class="w">    </span><span class="m">0</span>.107422<span class="w">    </span>.
</code></pre></div>
<h3 id="example-1">Example 1</h3>
<div class="admonition example">
<p class="admonition-title">Select variants on chromosome 3 (keeping the headers)</p>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span><span class="s1">&#39;NR==1 ||  $1==2 {print $0}&#39;</span><span class="w"> </span>../02_Linux_basics/sumstats.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>head
<span class="c1">#CHROM  POS ID  REF ALT A1  TEST    OBS_CT  OR  LOG(OR)_SE  Z_STAT  P   ERRCODE</span>
<span class="m">2</span><span class="w">   </span><span class="m">22398</span><span class="w">   </span><span class="m">2</span>:22398:C:T<span class="w"> </span>C<span class="w">   </span>T<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.287540.161017<span class="w"> </span><span class="m">1</span>.56962<span class="w"> </span><span class="m">0</span>.116503<span class="w">    </span>.
<span class="m">2</span><span class="w">   </span><span class="m">24839</span><span class="w">   </span><span class="m">2</span>:24839:C:T<span class="w"> </span>C<span class="w">   </span>T<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.318170.179754<span class="w"> </span><span class="m">1</span>.53679<span class="w"> </span><span class="m">0</span>.124344<span class="w">    </span>.
<span class="m">2</span><span class="w">   </span><span class="m">26844</span><span class="w">   </span><span class="m">2</span>:26844:C:T<span class="w"> </span>C<span class="w">   </span>T<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.3173<span class="w">  </span><span class="m">0</span>.161302<span class="w">    </span><span class="m">1</span>.70851<span class="w"> </span><span class="m">0</span>.0875413<span class="w">   </span>.
<span class="m">2</span><span class="w">   </span><span class="m">28786</span><span class="w">   </span><span class="m">2</span>:28786:T:C<span class="w"> </span>T<span class="w">   </span>C<span class="w">   </span>C<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.3043<span class="w">  </span><span class="m">0</span>.161184<span class="w">    </span><span class="m">1</span>.64822<span class="w"> </span><span class="m">0</span>.0993082<span class="w">   </span>.
<span class="m">2</span><span class="w">   </span><span class="m">30091</span><span class="w">   </span><span class="m">2</span>:30091:C:G<span class="w"> </span>C<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.3043<span class="w">  </span><span class="m">0</span>.161184<span class="w">    </span><span class="m">1</span>.64822<span class="w"> </span><span class="m">0</span>.0993082<span class="w">   </span>.
<span class="m">2</span><span class="w">   </span><span class="m">30762</span><span class="w">   </span><span class="m">2</span>:30762:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>A<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.099560.158614<span class="w"> </span><span class="m">0</span>.598369<span class="w">    </span><span class="m">0</span>.549594<span class="w">    </span>.
<span class="m">2</span><span class="w">   </span><span class="m">34503</span><span class="w">   </span><span class="m">2</span>:34503:G:T<span class="w"> </span>G<span class="w">   </span>T<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.323720.179789<span class="w"> </span><span class="m">1</span>.55988<span class="w"> </span><span class="m">0</span>.118789<span class="w">    </span>.
<span class="m">2</span><span class="w">   </span><span class="m">39340</span><span class="w">   </span><span class="m">2</span>:39340:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.3043<span class="w">  </span><span class="m">0</span>.161184<span class="w">    </span><span class="m">1</span>.64822<span class="w"> </span><span class="m">0</span>.0993082<span class="w">   </span>.
<span class="m">2</span><span class="w">   </span><span class="m">55237</span><span class="w">   </span><span class="m">2</span>:55237:T:C<span class="w"> </span>T<span class="w">   </span>C<span class="w">   </span>C<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.314860.161988<span class="w"> </span><span class="m">1</span>.68983<span class="w"> </span><span class="m">0</span>.0910614<span class="w">   </span>.
</code></pre></div>
</div>
<p>The <code>NR</code> here means row number. The condition here <code>NR==1 || $1==3</code> means if it is the first row or the first column is equal to 3, conduct the process <code>print $0</code>, which mean print all columns. </p>
<h3 id="example-2">Example 2</h3>
<div class="admonition example">
<p class="admonition-title">Select all genome-wide significant variants (p&lt;5e-8)</p>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span><span class="s1">&#39;NR==1 ||  $13 &lt;5e-8 {print $0}&#39;</span><span class="w"> </span>../02_Linux_basics/sumstats.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>head
<span class="c1">#CHROM  POS ID  REF ALT A1  TEST    OBS_CT  OR  LOG(OR)_SE  Z_STAT  P   ERRCODE</span>
<span class="m">1</span><span class="w">   </span><span class="m">13273</span><span class="w">   </span><span class="m">1</span>:13273:G:C<span class="w"> </span>G<span class="w">   </span>C<span class="w">   </span>C<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">0</span>.7461490.282904<span class="w">    </span>-1.03509<span class="w">    </span><span class="m">0</span>.300628<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">14599</span><span class="w">   </span><span class="m">1</span>:14599:T:A<span class="w"> </span>T<span class="w">   </span>A<span class="w">   </span>A<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.676930.240899<span class="w"> </span><span class="m">2</span>.14598<span class="w"> </span><span class="m">0</span>.0318742<span class="w">   </span>.
<span class="m">1</span><span class="w">   </span><span class="m">14604</span><span class="w">   </span><span class="m">1</span>:14604:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.676930.240899<span class="w"> </span><span class="m">2</span>.14598<span class="w"> </span><span class="m">0</span>.0318742<span class="w">   </span>.
<span class="m">1</span><span class="w">   </span><span class="m">14930</span><span class="w">   </span><span class="m">1</span>:14930:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.643590.242872<span class="w"> </span><span class="m">2</span>.04585<span class="w"> </span><span class="m">0</span>.0407708<span class="w">   </span>.
<span class="m">1</span><span class="w">   </span><span class="m">69897</span><span class="w">   </span><span class="m">1</span>:69897:T:C<span class="w"> </span>T<span class="w">   </span>C<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.691420.200238<span class="w"> </span><span class="m">2</span>.62471<span class="w"> </span><span class="m">0</span>.00867216<span class="w">  </span>.
<span class="m">1</span><span class="w">   </span><span class="m">86331</span><span class="w">   </span><span class="m">1</span>:86331:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.418870.238055<span class="w"> </span><span class="m">1</span>.46968<span class="w"> </span><span class="m">0</span>.141649<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">91581</span><span class="w">   </span><span class="m">1</span>:91581:G:A<span class="w"> </span>G<span class="w">   </span>A<span class="w">   </span>A<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">0</span>.9313040.123644<span class="w">    </span>-0.575598<span class="w">   </span><span class="m">0</span>.564887<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">122872</span><span class="w">  </span><span class="m">1</span>:122872:T:G<span class="w">    </span>T<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.048280.182036<span class="w"> </span><span class="m">0</span>.259034<span class="w">    </span><span class="m">0</span>.795609<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">135163</span><span class="w">  </span><span class="m">1</span>:135163:C:T<span class="w">    </span>C<span class="w">   </span>T<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">0</span>.6766660.242611<span class="w">    </span>-1.60989<span class="w">    </span><span class="m">0</span>.107422<span class="w">    </span>.
</code></pre></div>
</div>
<h3 id="example-3">Example 3</h3>
<div class="admonition example">
<p class="admonition-title">Create a bed-like format for annotation</p>
<div class="highlight"><pre><span></span><code>awk &#39;NR&gt;1 {print $1,$2,$2,$4,$5}&#39; ../02_Linux_basics/sumstats.txt | head
1 13273 13273 G C
1 14599 14599 T A
1 14604 14604 A G
1 14930 14930 A G
1 69897 69897 T C
1 86331 86331 A G
1 91581 91581 G A
1 122872 122872 T G
1 135163 135163 C T
1 233473 233473 C G
</code></pre></div>
</div>
<h2 id="awk-workflow">awk workflow</h2>
<div class="admonition info">
<p class="admonition-title">awk workflow</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/40289485/217223344-233fd8fc-d734-4559-b32b-ce94acab37b9.png" /></p>
</div>
<h2 id="awk-variables">awk variables</h2>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Desciption</th>
</tr>
</thead>
<tbody>
<tr>
<td>NR</td>
<td>The number of input records</td>
</tr>
<tr>
<td>FS</td>
<td>The input field separator. The default value is <code>" "</code></td>
</tr>
<tr>
<td>OFS</td>
<td>The output field separator.  The default value is <code>" "</code></td>
</tr>
<tr>
<td>RS</td>
<td>The input record separator. The default value is <code>"\n"</code></td>
</tr>
<tr>
<td>ORS</td>
<td>The output record separator.The default value is <code>"\n"</code></td>
</tr>
<tr>
<td>FILENAME</td>
<td>The name of the current input file.</td>
</tr>
<tr>
<td>FNR</td>
<td>The current record number in the current file</td>
</tr>
</tbody>
</table>
<div class="admonition example">
<p class="admonition-title">Handle csv and tsv files</p>
<div class="highlight"><pre><span></span><code>head ../03_Data_formats/sample_data.csv
#CHROM,POS,ID,REF,ALT,A1,FIRTH?,TEST,OBS_CT,OR,LOG(OR)_SE,Z_STAT,P,ERRCODE
1,13273,1:13273:G:C,G,C,C,N,ADD,503,0.750168,0.280794,-1.02373,0.305961,.
1,14599,1:14599:T:A,T,A,A,N,ADD,503,1.80972,0.231595,2.56124,0.0104299,.
1,14604,1:14604:A:G,A,G,G,N,ADD,503,1.80972,0.231595,2.56124,0.0104299,.
1,14930,1:14930:A:G,A,G,G,N,ADD,503,1.70139,0.240245,2.21209,0.0269602,.
1,69897,1:69897:T:C,T,C,T,N,ADD,503,1.58002,0.194774,2.34855,0.0188466,.
1,86331,1:86331:A:G,A,G,G,N,ADD,503,1.47006,0.236102,1.63193,0.102694,.
1,91581,1:91581:G:A,G,A,A,N,ADD,503,0.924422,0.122991,-0.638963,0.522847,.
1,122872,1:122872:T:G,T,G,G,N,ADD,503,1.07113,0.180776,0.380121,0.703856,.
1,135163,1:135163:C:T,C,T,T,N,ADD,503,0.711822,0.23908,-1.42182,0.155079,.
</code></pre></div>
<div class="highlight"><pre><span></span><code>awk -v FS=&#39;,&#39; -v OFS=&quot;\t&quot; &#39;{print $1,$2}&#39; sample_data.csv
#CHROM  POS
1       13273
1       14599
1       14604
1       14930
1       69897
1       86331
1       91581
1       122872
1       135163
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Skip and replace headers</p>
<div class="highlight"><pre><span></span><code>awk -v FS=&#39;,&#39; -v OFS=&quot;\t&quot; &#39;BEGIN{print &quot;CHR\tPOS&quot;} NR&gt;1 {print $1,$2}&#39; sample_data.csv

CHR     POS
1       13273
1       14599
1       14604
1       14930
1       69897
1       86331
1       91581
1       122872
1       135163
</code></pre></div>
</div>
<h2 id="awk-functions">awk functions</h2>
<p>Numeric functions</p>
<ul>
<li>exp(x)</li>
<li>int(x)</li>
<li>log(x)</li>
<li>sqrt(x)</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Convert OR and P to BETA and -log10(P)</p>
<div class="highlight"><pre><span></span><code>awk -v FS=&#39;,&#39; -v OFS=&quot;\t&quot; &#39;BEGIN{print &quot;SNPID\tBETA\tMLOG10P&quot;}NR&gt;1{print $3,log($10),-log($13)/log(10)}&#39; sample_data.csv
SNPID   BETA    MLOG10P
1:13273:G:C     -0.287458       0.514334
1:14599:T:A     0.593172        1.98172
1:14604:A:G     0.593172        1.98172
1:14930:A:G     0.531446        1.56928
1:69897:T:C     0.457438        1.72477
1:86331:A:G     0.385303        0.988455
1:91581:G:A     -0.0785866      0.281625
1:122872:T:G    0.0687142       0.152516
1:135163:C:T    -0.339927       0.809447
</code></pre></div>
</div>
<p>String manipulating function</p>
<ul>
<li>length([string])</li>
<li>split(string, array [, fieldsep [, seps ] ])</li>
<li>sub(regexp, replacement [, target]) </li>
<li>gsub(regexp, replacement [, target])</li>
<li>substr(string, start [, length ])</li>
<li>tolower(string)</li>
<li>toupper(string)</li>
</ul>
<h2 id="awk-options">awk options</h2>
<div class="highlight"><pre><span></span><code>$ awk --help
Usage: awk [POSIX or GNU style options] -f progfile [--] file ...
Usage: awk [POSIX or GNU style options] [--] &#39;program&#39; file ...
POSIX options:          GNU long options: (standard)
        -f progfile             --file=progfile
        -F fs                   --field-separator=fs
        -v var=val              --assign=var=val
Short options:          GNU long options: (extensions)
        -b                      --characters-as-bytes
        -c                      --traditional
        -C                      --copyright
        -d[file]                --dump-variables[=file]
        -D[file]                --debug[=file]
        -e &#39;program-text&#39;       --source=&#39;program-text&#39;
        -E file                 --exec=file
        -g                      --gen-pot
        -h                      --help
        -i includefile          --include=includefile
        -l library              --load=library
        -L[fatal|invalid]       --lint[=fatal|invalid]
        -M                      --bignum
        -N                      --use-lc-numeric
        -n                      --non-decimal-data
        -o[file]                --pretty-print[=file]
        -O                      --optimize
        -p[file]                --profile[=file]
        -P                      --posix
        -r                      --re-interval
        -S                      --sandbox
        -t                      --lint-old
        -V                      --version

To report bugs, see node `Bugs&#39; in `gawk.info&#39;, which is
section `Reporting Problems and Bugs&#39; in the printed version.

gawk is a pattern scanning and processing language.
By default it reads standard input and writes standard output.

Examples:
        gawk &#39;{ sum += $1 }; END { print sum }&#39; file
        gawk -F: &#39;{ print $1 }&#39; /etc/passwd
</code></pre></div>
<h2 id="reference">Reference</h2>
<ul>
<li>https://www.gnu.org/software/gawk/manual/gawk.html</li>
</ul>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../85_job_scheduler/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Job scheduler" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Job scheduler
            </div>
          </div>
        </a>
      
      
        
        <a href="../61_sed/" class="md-footer__link md-footer__link--next" aria-label="Next: Text editing - sed" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Text editing - sed
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      GWASTutorial is licensed under the MIT license
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.top", "navigation.tracking", "navigation.expand", "navigation.path"], "search": "../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.a6c66575.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../javascripts/tablesort.js"></script>
      
    
  </body>
</html>