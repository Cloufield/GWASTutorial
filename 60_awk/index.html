
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="HE Yunye">
      
      
      
        <link rel="prev" href="../85_job_scheduler/">
      
      
        <link rel="next" href="../61_sed/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.6">
    
    
      
        <title>Text editing - awk - GWASTutorial</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#awk" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="GWASTutorial" class="md-header__button md-logo" aria-label="GWASTutorial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            GWASTutorial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Text editing - awk
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Cloufield/GWASTutorial" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../02_Linux_basics/" class="md-tabs__link md-tabs__link--active">
        Command Line
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../01_Dataset/" class="md-tabs__link">
        Pre-GWAS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../06_Association_tests/" class="md-tabs__link">
        GWAS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../07_Annotation/" class="md-tabs__link">
        Post-GWAS
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../19_ld/" class="md-tabs__link">
        Topics
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../95_Assignment/" class="md-tabs__link">
        Assignments
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="GWASTutorial" class="md-nav__button md-logo" aria-label="GWASTutorial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    GWASTutorial
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Cloufield/GWASTutorial" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Tutorial guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../99_About/" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Command Line
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Command Line
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../02_Linux_basics/" class="md-nav__link">
        Linux Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../82_windows_linux_subsystem/" class="md-nav__link">
        Windows Linux Subsystem
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../84_ssh/" class="md-nav__link">
        SSH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../85_job_scheduler/" class="md-nav__link">
        Job scheduler
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Text editing - awk
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Text editing - awk
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#awk-introduction" class="md-nav__link">
    AWK Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-syntax" class="md-nav__link">
    AWK syntax
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1" class="md-nav__link">
    Example 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2" class="md-nav__link">
    Example 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-3" class="md-nav__link">
    Example 3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-workflow" class="md-nav__link">
    AWK workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-variables" class="md-nav__link">
    AWK variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-operators" class="md-nav__link">
    AWK operators
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-functions" class="md-nav__link">
    AWK functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-options" class="md-nav__link">
    AWK options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    Reference
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../61_sed/" class="md-nav__link">
        Text editing - sed
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../69_resources/" class="md-nav__link">
        Linux Resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../70_python_basics/" class="md-nav__link">
        Python Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../71_python_resources/" class="md-nav__link">
        Python Resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../80_anaconda/" class="md-nav__link">
        Anaconda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../81_jupyter_notebook/" class="md-nav__link">
        Jupyter notebook
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          R
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          R
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../75_R_basics/" class="md-nav__link">
        R Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../76_R_resources/" class="md-nav__link">
        R Resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
      
      
      
        <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          Other tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Other tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../83_git_and_github/" class="md-nav__link">
        Git and github
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Pre-GWAS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Pre-GWAS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../01_Dataset/" class="md-nav__link">
        Sample Dataset
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../03_Data_formats/" class="md-nav__link">
        Data Formats
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../04_Data_QC/" class="md-nav__link">
        Genotype Data QC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../05_PCA/" class="md-nav__link">
        Sample PCA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plot_PCA/" class="md-nav__link">
        Plotting PCA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Phasing/" class="md-nav__link">
        Phasing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Imputation/" class="md-nav__link">
        Imputation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          GWAS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          GWAS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../06_Association_tests/" class="md-nav__link">
        Association tests by PLINK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Visualization/" class="md-nav__link">
        Visualization by gwaslab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../33_linear_mixed_model/" class="md-nav__link">
        Linear mixed model (LMM)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../32_whole_genome_regression/" class="md-nav__link">
        Whole genome regression by REGENIE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Post-GWAS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Post-GWAS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../07_Annotation/" class="md-nav__link">
        Annotation by ANNOVAR & VEP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../14_gcta_greml/" class="md-nav__link">
        SNP-heritability estimation by GREML
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../08_LDSC/" class="md-nav__link">
        LD socre regression by LDSC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../09_Gene_based_analysis/" class="md-nav__link">
        Gene/Gene-set tests by MAGMA
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
          Fine-mapping by susieR
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          Fine-mapping by susieR
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../12_fine_mapping/" class="md-nav__link">
        Fine-mapping Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../finemapping_susie/" class="md-nav__link">
        Finemapping using susieR
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../11_meta_analysis/" class="md-nav__link">
        Meta-analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
      
      
      
        <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
          Polygenic Risk Score
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_7">
          <span class="md-nav__icon md-icon"></span>
          Polygenic Risk Score
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../10_PRS/" class="md-nav__link">
        PRS Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../PRS_evaluation/" class="md-nav__link">
        PRS evaluation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../prs_tutorial/" class="md-nav__link">
        PRS Tutorial
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
      
      
      
        <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
          Mendelian randomization
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_8">
          <span class="md-nav__icon md-icon"></span>
          Mendelian randomization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../16_mendelian_randomization/" class="md-nav__link">
        MR Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../TwoSampleMR/" class="md-nav__link">
        TwoSampleMR Tutorial
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../18_Conditioning_analysis/" class="md-nav__link">
        Conditional analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../17_colocalization/" class="md-nav__link">
        Colocalization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../21_twas/" class="md-nav__link">
        TWAS (using FUSION)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../19_ld/" class="md-nav__link">
        Linkage Disequilibrium (LD)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../13_heritability/" class="md-nav__link">
        Heritability Concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../20_power_analysis/" class="md-nav__link">
        Statistical power
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../15_winners_curse/" class="md-nav__link">
        Winner's curse
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../55_measure_of_effect/" class="md-nav__link">
        Measure of effect
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../90_Recommended_Reading/" class="md-nav__link">
        Recommended reading
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Assignments
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Assignments
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../95_Assignment/" class="md-nav__link">
        Assignment - 1KG PCA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../96_Assignment2/" class="md-nav__link">
        Assignment - Presentation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#awk-introduction" class="md-nav__link">
    AWK Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-syntax" class="md-nav__link">
    AWK syntax
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1" class="md-nav__link">
    Example 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2" class="md-nav__link">
    Example 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-3" class="md-nav__link">
    Example 3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-workflow" class="md-nav__link">
    AWK workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-variables" class="md-nav__link">
    AWK variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-operators" class="md-nav__link">
    AWK operators
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-functions" class="md-nav__link">
    AWK functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk-options" class="md-nav__link">
    AWK options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    Reference
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="awk">AWK</h1>
<h2 id="awk-introduction">AWK Introduction</h2>
<p>'awk' is one of the most powerful text processing tools for tabular text files.</p>
<h2 id="awk-syntax">AWK syntax</h2>
<div class="highlight"><pre><span></span><code>awk OPTION &#39;CONDITION {PROCESS}&#39; FILENAME
</code></pre></div>
<p>Some special variables in awk:</p>
<ul>
<li><code>$0</code> : all columns</li>
<li><code>$n</code> : column n. For example, $1 means the first column. $4 means column 4.</li>
<li><code>NR</code> : Row number.</li>
</ul>
<h2 id="examples">Examples</h2>
<p>Using the sample sumstats, we will demonstrate some simple but useful one-liners.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># sample sumstats</span>
head<span class="w"> </span>../02_Linux_basics/sumstats.txt<span class="w"> </span>
<span class="c1">#CHROM  POS ID  REF ALT A1  TEST    OBS_CT  OR  LOG(OR)_SE  Z_STAT  P   ERRCODE</span>
<span class="m">1</span><span class="w">   </span><span class="m">13273</span><span class="w">   </span><span class="m">1</span>:13273:G:C<span class="w"> </span>G<span class="w">   </span>C<span class="w">   </span>C<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">0</span>.7461490.282904<span class="w">    </span>-1.03509<span class="w">    </span><span class="m">0</span>.300628<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">14599</span><span class="w">   </span><span class="m">1</span>:14599:T:A<span class="w"> </span>T<span class="w">   </span>A<span class="w">   </span>A<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.676930.240899<span class="w"> </span><span class="m">2</span>.14598<span class="w"> </span><span class="m">0</span>.0318742<span class="w">   </span>.
<span class="m">1</span><span class="w">   </span><span class="m">14604</span><span class="w">   </span><span class="m">1</span>:14604:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.676930.240899<span class="w"> </span><span class="m">2</span>.14598<span class="w"> </span><span class="m">0</span>.0318742<span class="w">   </span>.
<span class="m">1</span><span class="w">   </span><span class="m">14930</span><span class="w">   </span><span class="m">1</span>:14930:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.643590.242872<span class="w"> </span><span class="m">2</span>.04585<span class="w"> </span><span class="m">0</span>.0407708<span class="w">   </span>.
<span class="m">1</span><span class="w">   </span><span class="m">69897</span><span class="w">   </span><span class="m">1</span>:69897:T:C<span class="w"> </span>T<span class="w">   </span>C<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.691420.200238<span class="w"> </span><span class="m">2</span>.62471<span class="w"> </span><span class="m">0</span>.00867216<span class="w">  </span>.
<span class="m">1</span><span class="w">   </span><span class="m">86331</span><span class="w">   </span><span class="m">1</span>:86331:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.418870.238055<span class="w"> </span><span class="m">1</span>.46968<span class="w"> </span><span class="m">0</span>.141649<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">91581</span><span class="w">   </span><span class="m">1</span>:91581:G:A<span class="w"> </span>G<span class="w">   </span>A<span class="w">   </span>A<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">0</span>.9313040.123644<span class="w">    </span>-0.575598<span class="w">   </span><span class="m">0</span>.564887<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">122872</span><span class="w">  </span><span class="m">1</span>:122872:T:G<span class="w">    </span>T<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.048280.182036<span class="w"> </span><span class="m">0</span>.259034<span class="w">    </span><span class="m">0</span>.795609<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">135163</span><span class="w">  </span><span class="m">1</span>:135163:C:T<span class="w">    </span>C<span class="w">   </span>T<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">0</span>.6766660.242611<span class="w">    </span>-1.60989<span class="w">    </span><span class="m">0</span>.107422<span class="w">    </span>.
</code></pre></div>
<h3 id="example-1">Example 1</h3>
<div class="admonition example">
<p class="admonition-title">Select variants on chromosome 3 (keeping the headers)</p>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span><span class="s1">&#39;NR==1 ||  $1==2 {print $0}&#39;</span><span class="w"> </span>../02_Linux_basics/sumstats.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>head
<span class="c1">#CHROM  POS ID  REF ALT A1  TEST    OBS_CT  OR  LOG(OR)_SE  Z_STAT  P   ERRCODE</span>
<span class="m">2</span><span class="w">   </span><span class="m">22398</span><span class="w">   </span><span class="m">2</span>:22398:C:T<span class="w"> </span>C<span class="w">   </span>T<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.287540.161017<span class="w"> </span><span class="m">1</span>.56962<span class="w"> </span><span class="m">0</span>.116503<span class="w">    </span>.
<span class="m">2</span><span class="w">   </span><span class="m">24839</span><span class="w">   </span><span class="m">2</span>:24839:C:T<span class="w"> </span>C<span class="w">   </span>T<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.318170.179754<span class="w"> </span><span class="m">1</span>.53679<span class="w"> </span><span class="m">0</span>.124344<span class="w">    </span>.
<span class="m">2</span><span class="w">   </span><span class="m">26844</span><span class="w">   </span><span class="m">2</span>:26844:C:T<span class="w"> </span>C<span class="w">   </span>T<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.3173<span class="w">  </span><span class="m">0</span>.161302<span class="w">    </span><span class="m">1</span>.70851<span class="w"> </span><span class="m">0</span>.0875413<span class="w">   </span>.
<span class="m">2</span><span class="w">   </span><span class="m">28786</span><span class="w">   </span><span class="m">2</span>:28786:T:C<span class="w"> </span>T<span class="w">   </span>C<span class="w">   </span>C<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.3043<span class="w">  </span><span class="m">0</span>.161184<span class="w">    </span><span class="m">1</span>.64822<span class="w"> </span><span class="m">0</span>.0993082<span class="w">   </span>.
<span class="m">2</span><span class="w">   </span><span class="m">30091</span><span class="w">   </span><span class="m">2</span>:30091:C:G<span class="w"> </span>C<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.3043<span class="w">  </span><span class="m">0</span>.161184<span class="w">    </span><span class="m">1</span>.64822<span class="w"> </span><span class="m">0</span>.0993082<span class="w">   </span>.
<span class="m">2</span><span class="w">   </span><span class="m">30762</span><span class="w">   </span><span class="m">2</span>:30762:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>A<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.099560.158614<span class="w"> </span><span class="m">0</span>.598369<span class="w">    </span><span class="m">0</span>.549594<span class="w">    </span>.
<span class="m">2</span><span class="w">   </span><span class="m">34503</span><span class="w">   </span><span class="m">2</span>:34503:G:T<span class="w"> </span>G<span class="w">   </span>T<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.323720.179789<span class="w"> </span><span class="m">1</span>.55988<span class="w"> </span><span class="m">0</span>.118789<span class="w">    </span>.
<span class="m">2</span><span class="w">   </span><span class="m">39340</span><span class="w">   </span><span class="m">2</span>:39340:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.3043<span class="w">  </span><span class="m">0</span>.161184<span class="w">    </span><span class="m">1</span>.64822<span class="w"> </span><span class="m">0</span>.0993082<span class="w">   </span>.
<span class="m">2</span><span class="w">   </span><span class="m">55237</span><span class="w">   </span><span class="m">2</span>:55237:T:C<span class="w"> </span>T<span class="w">   </span>C<span class="w">   </span>C<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.314860.161988<span class="w"> </span><span class="m">1</span>.68983<span class="w"> </span><span class="m">0</span>.0910614<span class="w">   </span>.
</code></pre></div>
</div>
<p>The <code>NR</code> here means row number. The condition here <code>NR==1 || $1==3</code> means if it is the first row or the first column is equal to 3, conduct the process <code>print $0</code>, which mean print all columns. </p>
<h3 id="example-2">Example 2</h3>
<div class="admonition example">
<p class="admonition-title">Select all genome-wide significant variants (p&lt;5e-8)</p>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span><span class="s1">&#39;NR==1 ||  $13 &lt;5e-8 {print $0}&#39;</span><span class="w"> </span>../02_Linux_basics/sumstats.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>head
<span class="c1">#CHROM  POS ID  REF ALT A1  TEST    OBS_CT  OR  LOG(OR)_SE  Z_STAT  P   ERRCODE</span>
<span class="m">1</span><span class="w">   </span><span class="m">13273</span><span class="w">   </span><span class="m">1</span>:13273:G:C<span class="w"> </span>G<span class="w">   </span>C<span class="w">   </span>C<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">0</span>.7461490.282904<span class="w">    </span>-1.03509<span class="w">    </span><span class="m">0</span>.300628<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">14599</span><span class="w">   </span><span class="m">1</span>:14599:T:A<span class="w"> </span>T<span class="w">   </span>A<span class="w">   </span>A<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.676930.240899<span class="w"> </span><span class="m">2</span>.14598<span class="w"> </span><span class="m">0</span>.0318742<span class="w">   </span>.
<span class="m">1</span><span class="w">   </span><span class="m">14604</span><span class="w">   </span><span class="m">1</span>:14604:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.676930.240899<span class="w"> </span><span class="m">2</span>.14598<span class="w"> </span><span class="m">0</span>.0318742<span class="w">   </span>.
<span class="m">1</span><span class="w">   </span><span class="m">14930</span><span class="w">   </span><span class="m">1</span>:14930:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.643590.242872<span class="w"> </span><span class="m">2</span>.04585<span class="w"> </span><span class="m">0</span>.0407708<span class="w">   </span>.
<span class="m">1</span><span class="w">   </span><span class="m">69897</span><span class="w">   </span><span class="m">1</span>:69897:T:C<span class="w"> </span>T<span class="w">   </span>C<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.691420.200238<span class="w"> </span><span class="m">2</span>.62471<span class="w"> </span><span class="m">0</span>.00867216<span class="w">  </span>.
<span class="m">1</span><span class="w">   </span><span class="m">86331</span><span class="w">   </span><span class="m">1</span>:86331:A:G<span class="w"> </span>A<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.418870.238055<span class="w"> </span><span class="m">1</span>.46968<span class="w"> </span><span class="m">0</span>.141649<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">91581</span><span class="w">   </span><span class="m">1</span>:91581:G:A<span class="w"> </span>G<span class="w">   </span>A<span class="w">   </span>A<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">0</span>.9313040.123644<span class="w">    </span>-0.575598<span class="w">   </span><span class="m">0</span>.564887<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">122872</span><span class="w">  </span><span class="m">1</span>:122872:T:G<span class="w">    </span>T<span class="w">   </span>G<span class="w">   </span>G<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">1</span>.048280.182036<span class="w"> </span><span class="m">0</span>.259034<span class="w">    </span><span class="m">0</span>.795609<span class="w">    </span>.
<span class="m">1</span><span class="w">   </span><span class="m">135163</span><span class="w">  </span><span class="m">1</span>:135163:C:T<span class="w">    </span>C<span class="w">   </span>T<span class="w">   </span>T<span class="w">   </span>ADD<span class="w"> </span><span class="m">503</span><span class="w"> </span><span class="m">0</span>.6766660.242611<span class="w">    </span>-1.60989<span class="w">    </span><span class="m">0</span>.107422<span class="w">    </span>.
</code></pre></div>
</div>
<h3 id="example-3">Example 3</h3>
<div class="admonition example">
<p class="admonition-title">Create a bed-like format for annotation</p>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span><span class="s1">&#39;NR&gt;1 {print $1,$2,$2,$4,$5}&#39;</span><span class="w"> </span>../02_Linux_basics/sumstats.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>head
<span class="m">1</span><span class="w"> </span><span class="m">13273</span><span class="w"> </span><span class="m">13273</span><span class="w"> </span>G<span class="w"> </span>C
<span class="m">1</span><span class="w"> </span><span class="m">14599</span><span class="w"> </span><span class="m">14599</span><span class="w"> </span>T<span class="w"> </span>A
<span class="m">1</span><span class="w"> </span><span class="m">14604</span><span class="w"> </span><span class="m">14604</span><span class="w"> </span>A<span class="w"> </span>G
<span class="m">1</span><span class="w"> </span><span class="m">14930</span><span class="w"> </span><span class="m">14930</span><span class="w"> </span>A<span class="w"> </span>G
<span class="m">1</span><span class="w"> </span><span class="m">69897</span><span class="w"> </span><span class="m">69897</span><span class="w"> </span>T<span class="w"> </span>C
<span class="m">1</span><span class="w"> </span><span class="m">86331</span><span class="w"> </span><span class="m">86331</span><span class="w"> </span>A<span class="w"> </span>G
<span class="m">1</span><span class="w"> </span><span class="m">91581</span><span class="w"> </span><span class="m">91581</span><span class="w"> </span>G<span class="w"> </span>A
<span class="m">1</span><span class="w"> </span><span class="m">122872</span><span class="w"> </span><span class="m">122872</span><span class="w"> </span>T<span class="w"> </span>G
<span class="m">1</span><span class="w"> </span><span class="m">135163</span><span class="w"> </span><span class="m">135163</span><span class="w"> </span>C<span class="w"> </span>T
<span class="m">1</span><span class="w"> </span><span class="m">233473</span><span class="w"> </span><span class="m">233473</span><span class="w"> </span>C<span class="w"> </span>G
</code></pre></div>
</div>
<h2 id="awk-workflow">AWK workflow</h2>
<p>The workflow of awk can be summarized in the following figure: </p>
<div class="admonition info">
<p class="admonition-title">awk workflow</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/40289485/217223344-233fd8fc-d734-4559-b32b-ce94acab37b9.png" /></p>
</div>
<h2 id="awk-variables">AWK variables</h2>
<div class="admonition info">
<p class="admonition-title">Frequently used awk variables</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Desciption</th>
</tr>
</thead>
<tbody>
<tr>
<td>NR</td>
<td>The number of input records</td>
</tr>
<tr>
<td>NF</td>
<td>The number of input fields</td>
</tr>
<tr>
<td>FS</td>
<td>The input field separator. The default value is <code>" "</code></td>
</tr>
<tr>
<td>OFS</td>
<td>The output field separator.  The default value is <code>" "</code></td>
</tr>
<tr>
<td>RS</td>
<td>The input record separator. The default value is <code>"\n"</code></td>
</tr>
<tr>
<td>ORS</td>
<td>The output record separator.The default value is <code>"\n"</code></td>
</tr>
<tr>
<td>FILENAME</td>
<td>The name of the current input file.</td>
</tr>
<tr>
<td>FNR</td>
<td>The current record number in the current file</td>
</tr>
</tbody>
</table>
</div>
<div class="admonition example">
<p class="admonition-title">Handle csv and tsv files</p>
<div class="highlight"><pre><span></span><code>head<span class="w"> </span>../03_Data_formats/sample_data.csv
<span class="c1">#CHROM,POS,ID,REF,ALT,A1,FIRTH?,TEST,OBS_CT,OR,LOG(OR)_SE,Z_STAT,P,ERRCODE</span>
<span class="m">1</span>,13273,1:13273:G:C,G,C,C,N,ADD,503,0.750168,0.280794,-1.02373,0.305961,.
<span class="m">1</span>,14599,1:14599:T:A,T,A,A,N,ADD,503,1.80972,0.231595,2.56124,0.0104299,.
<span class="m">1</span>,14604,1:14604:A:G,A,G,G,N,ADD,503,1.80972,0.231595,2.56124,0.0104299,.
<span class="m">1</span>,14930,1:14930:A:G,A,G,G,N,ADD,503,1.70139,0.240245,2.21209,0.0269602,.
<span class="m">1</span>,69897,1:69897:T:C,T,C,T,N,ADD,503,1.58002,0.194774,2.34855,0.0188466,.
<span class="m">1</span>,86331,1:86331:A:G,A,G,G,N,ADD,503,1.47006,0.236102,1.63193,0.102694,.
<span class="m">1</span>,91581,1:91581:G:A,G,A,A,N,ADD,503,0.924422,0.122991,-0.638963,0.522847,.
<span class="m">1</span>,122872,1:122872:T:G,T,G,G,N,ADD,503,1.07113,0.180776,0.380121,0.703856,.
<span class="m">1</span>,135163,1:135163:C:T,C,T,T,N,ADD,503,0.711822,0.23908,-1.42182,0.155079,.
</code></pre></div>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span>-v<span class="w"> </span><span class="nv">FS</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="w"> </span>-v<span class="w"> </span><span class="nv">OFS</span><span class="o">=</span><span class="s2">&quot;\t&quot;</span><span class="w"> </span><span class="s1">&#39;{print $1,$2}&#39;</span><span class="w"> </span>sample_data.csv
<span class="c1">#CHROM  POS</span>
<span class="m">1</span><span class="w">       </span><span class="m">13273</span>
<span class="m">1</span><span class="w">       </span><span class="m">14599</span>
<span class="m">1</span><span class="w">       </span><span class="m">14604</span>
<span class="m">1</span><span class="w">       </span><span class="m">14930</span>
<span class="m">1</span><span class="w">       </span><span class="m">69897</span>
<span class="m">1</span><span class="w">       </span><span class="m">86331</span>
<span class="m">1</span><span class="w">       </span><span class="m">91581</span>
<span class="m">1</span><span class="w">       </span><span class="m">122872</span>
<span class="m">1</span><span class="w">       </span><span class="m">135163</span>
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">convert csv to tsv</p>
<div class="highlight"><pre><span></span><code>awk &#39;BEGIN { FS=&quot;,&quot;; OFS=&quot;\t&quot; } {$1=$1; print}&#39; sample_data.csv
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Skip and replace headers</p>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span>-v<span class="w"> </span><span class="nv">FS</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="w"> </span>-v<span class="w"> </span><span class="nv">OFS</span><span class="o">=</span><span class="s2">&quot;\t&quot;</span><span class="w"> </span><span class="s1">&#39;BEGIN{print &quot;CHR\tPOS&quot;} NR&gt;1 {print $1,$2}&#39;</span><span class="w"> </span>sample_data.csv

CHR<span class="w">     </span>POS
<span class="m">1</span><span class="w">       </span><span class="m">13273</span>
<span class="m">1</span><span class="w">       </span><span class="m">14599</span>
<span class="m">1</span><span class="w">       </span><span class="m">14604</span>
<span class="m">1</span><span class="w">       </span><span class="m">14930</span>
<span class="m">1</span><span class="w">       </span><span class="m">69897</span>
<span class="m">1</span><span class="w">       </span><span class="m">86331</span>
<span class="m">1</span><span class="w">       </span><span class="m">91581</span>
<span class="m">1</span><span class="w">       </span><span class="m">122872</span>
<span class="m">1</span><span class="w">       </span><span class="m">135163</span>
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Extract a line</p>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span><span class="s1">&#39;NR==4&#39;</span><span class="w"> </span>sample_data.csv

<span class="m">1</span>,14604,1:14604:A:G,A,G,G,N,ADD,503,1.80972,0.231595,2.56124,0.0104299,.
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Print the last two columns</p>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span>-v<span class="w"> </span><span class="nv">FS</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="w"> </span><span class="s1">&#39;{print $(NF-1),$(NF)}&#39;</span><span class="w"> </span>sample_data.csv
P<span class="w"> </span>ERRCODE
<span class="m">0</span>.305961<span class="w"> </span>.
<span class="m">0</span>.0104299<span class="w"> </span>.
<span class="m">0</span>.0104299<span class="w"> </span>.
<span class="m">0</span>.0269602<span class="w"> </span>.
<span class="m">0</span>.0188466<span class="w"> </span>.
<span class="m">0</span>.102694<span class="w"> </span>.
<span class="m">0</span>.522847<span class="w"> </span>.
<span class="m">0</span>.703856<span class="w"> </span>.
<span class="m">0</span>.155079<span class="w"> </span>.
</code></pre></div>
</div>
<h2 id="awk-operators">AWK operators</h2>
<div class="admonition info">
<p class="admonition-title">Arithmetic Operators</p>
<table>
<thead>
<tr>
<th>Arithmetic Operators</th>
<th>Desciption</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+</code></td>
<td>add</td>
</tr>
<tr>
<td><code>-</code></td>
<td>subtract</td>
</tr>
<tr>
<td><code>*</code></td>
<td>multiply</td>
</tr>
<tr>
<td><code>\</code></td>
<td>divide</td>
</tr>
<tr>
<td><code>%</code></td>
<td>modulus division</td>
</tr>
<tr>
<td><code>**</code></td>
<td>x**y : x raised to the y-th power</td>
</tr>
</tbody>
</table>
</div>
<div class="admonition info">
<p class="admonition-title">Logical Operators</p>
<table>
<thead>
<tr>
<th>Logical Operators</th>
<th>Desciption</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\|\|</code></td>
<td>or</td>
</tr>
<tr>
<td><code>&amp;&amp;</code></td>
<td>and</td>
</tr>
<tr>
<td><code>!</code></td>
<td>not</td>
</tr>
</tbody>
</table>
</div>
<h2 id="awk-functions">AWK functions</h2>
<div class="admonition info">
<p class="admonition-title">Numeric functions in awk</p>
<ul>
<li>int(x) : truncate x to integer</li>
<li>log(x) : the natural logarithm of x</li>
<li>exp(x) : natural exponential function</li>
<li>sqrt(x) : square root of x</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Convert OR and P to BETA and -log10(P)</p>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span>-v<span class="w"> </span><span class="nv">FS</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="w"> </span>-v<span class="w"> </span><span class="nv">OFS</span><span class="o">=</span><span class="s2">&quot;\t&quot;</span><span class="w"> </span><span class="s1">&#39;BEGIN{print &quot;SNPID\tBETA\tMLOG10P&quot;}NR&gt;1{print $3,log($10),-log($13)/log(10)}&#39;</span><span class="w"> </span>sample_data.csv
SNPID<span class="w">   </span>BETA<span class="w">    </span>MLOG10P
<span class="m">1</span>:13273:G:C<span class="w">     </span>-0.287458<span class="w">       </span><span class="m">0</span>.514334
<span class="m">1</span>:14599:T:A<span class="w">     </span><span class="m">0</span>.593172<span class="w">        </span><span class="m">1</span>.98172
<span class="m">1</span>:14604:A:G<span class="w">     </span><span class="m">0</span>.593172<span class="w">        </span><span class="m">1</span>.98172
<span class="m">1</span>:14930:A:G<span class="w">     </span><span class="m">0</span>.531446<span class="w">        </span><span class="m">1</span>.56928
<span class="m">1</span>:69897:T:C<span class="w">     </span><span class="m">0</span>.457438<span class="w">        </span><span class="m">1</span>.72477
<span class="m">1</span>:86331:A:G<span class="w">     </span><span class="m">0</span>.385303<span class="w">        </span><span class="m">0</span>.988455
<span class="m">1</span>:91581:G:A<span class="w">     </span>-0.0785866<span class="w">      </span><span class="m">0</span>.281625
<span class="m">1</span>:122872:T:G<span class="w">    </span><span class="m">0</span>.0687142<span class="w">       </span><span class="m">0</span>.152516
<span class="m">1</span>:135163:C:T<span class="w">    </span>-0.339927<span class="w">       </span><span class="m">0</span>.809447
</code></pre></div>
</div>
<div class="admonition info">
<p class="admonition-title">String manipulating functions in awk</p>
<ul>
<li>length([string])</li>
<li>split(string, array [, fieldsep [, seps ] ])</li>
<li>sub(regexp, replacement [, target]) </li>
<li>gsub(regexp, replacement [, target])</li>
<li>substr(string, start [, length ])</li>
<li>tolower(string)</li>
<li>toupper(string)</li>
</ul>
</div>
<h2 id="awk-options">AWK options</h2>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>awk<span class="w"> </span>--help
Usage:<span class="w"> </span>awk<span class="w"> </span><span class="o">[</span>POSIX<span class="w"> </span>or<span class="w"> </span>GNU<span class="w"> </span>style<span class="w"> </span>options<span class="o">]</span><span class="w"> </span>-f<span class="w"> </span>progfile<span class="w"> </span><span class="o">[</span>--<span class="o">]</span><span class="w"> </span>file<span class="w"> </span>...
Usage:<span class="w"> </span>awk<span class="w"> </span><span class="o">[</span>POSIX<span class="w"> </span>or<span class="w"> </span>GNU<span class="w"> </span>style<span class="w"> </span>options<span class="o">]</span><span class="w"> </span><span class="o">[</span>--<span class="o">]</span><span class="w"> </span><span class="s1">&#39;program&#39;</span><span class="w"> </span>file<span class="w"> </span>...
POSIX<span class="w"> </span>options:<span class="w">          </span>GNU<span class="w"> </span>long<span class="w"> </span>options:<span class="w"> </span><span class="o">(</span>standard<span class="o">)</span>
<span class="w">        </span>-f<span class="w"> </span>progfile<span class="w">             </span>--file<span class="o">=</span>progfile
<span class="w">        </span>-F<span class="w"> </span>fs<span class="w">                   </span>--field-separator<span class="o">=</span>fs
<span class="w">        </span>-v<span class="w"> </span><span class="nv">var</span><span class="o">=</span>val<span class="w">              </span>--assign<span class="o">=</span><span class="nv">var</span><span class="o">=</span>val
Short<span class="w"> </span>options:<span class="w">          </span>GNU<span class="w"> </span>long<span class="w"> </span>options:<span class="w"> </span><span class="o">(</span>extensions<span class="o">)</span>
<span class="w">        </span>-b<span class="w">                      </span>--characters-as-bytes
<span class="w">        </span>-c<span class="w">                      </span>--traditional
<span class="w">        </span>-C<span class="w">                      </span>--copyright
<span class="w">        </span>-d<span class="o">[</span>file<span class="o">]</span><span class="w">                </span>--dump-variables<span class="o">[=</span>file<span class="o">]</span>
<span class="w">        </span>-D<span class="o">[</span>file<span class="o">]</span><span class="w">                </span>--debug<span class="o">[=</span>file<span class="o">]</span>
<span class="w">        </span>-e<span class="w"> </span><span class="s1">&#39;program-text&#39;</span><span class="w">       </span>--source<span class="o">=</span><span class="s1">&#39;program-text&#39;</span>
<span class="w">        </span>-E<span class="w"> </span>file<span class="w">                 </span>--exec<span class="o">=</span>file
<span class="w">        </span>-g<span class="w">                      </span>--gen-pot
<span class="w">        </span>-h<span class="w">                      </span>--help
<span class="w">        </span>-i<span class="w"> </span>includefile<span class="w">          </span>--include<span class="o">=</span>includefile
<span class="w">        </span>-l<span class="w"> </span>library<span class="w">              </span>--load<span class="o">=</span>library
<span class="w">        </span>-L<span class="o">[</span>fatal<span class="p">|</span>invalid<span class="o">]</span><span class="w">       </span>--lint<span class="o">[=</span>fatal<span class="p">|</span>invalid<span class="o">]</span>
<span class="w">        </span>-M<span class="w">                      </span>--bignum
<span class="w">        </span>-N<span class="w">                      </span>--use-lc-numeric
<span class="w">        </span>-n<span class="w">                      </span>--non-decimal-data
<span class="w">        </span>-o<span class="o">[</span>file<span class="o">]</span><span class="w">                </span>--pretty-print<span class="o">[=</span>file<span class="o">]</span>
<span class="w">        </span>-O<span class="w">                      </span>--optimize
<span class="w">        </span>-p<span class="o">[</span>file<span class="o">]</span><span class="w">                </span>--profile<span class="o">[=</span>file<span class="o">]</span>
<span class="w">        </span>-P<span class="w">                      </span>--posix
<span class="w">        </span>-r<span class="w">                      </span>--re-interval
<span class="w">        </span>-S<span class="w">                      </span>--sandbox
<span class="w">        </span>-t<span class="w">                      </span>--lint-old
<span class="w">        </span>-V<span class="w">                      </span>--version

To<span class="w"> </span>report<span class="w"> </span>bugs,<span class="w"> </span>see<span class="w"> </span>node<span class="w"> </span><span class="sb">`</span>Bugs<span class="s1">&#39; in `gawk.info&#39;</span>,<span class="w"> </span>which<span class="w"> </span>is
section<span class="w"> </span><span class="sb">`</span>Reporting<span class="w"> </span>Problems<span class="w"> </span>and<span class="w"> </span>Bugs<span class="s1">&#39; in the printed version.</span>

<span class="s1">gawk is a pattern scanning and processing language.</span>
<span class="s1">By default it reads standard input and writes standard output.</span>

<span class="s1">Examples:</span>
<span class="s1">        gawk &#39;</span><span class="o">{</span><span class="w"> </span><span class="nv">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="o">}</span><span class="p">;</span><span class="w"> </span>END<span class="w"> </span><span class="o">{</span><span class="w"> </span>print<span class="w"> </span>sum<span class="w"> </span><span class="o">}</span><span class="s1">&#39; file</span>
<span class="s1">        gawk -F: &#39;</span><span class="o">{</span><span class="w"> </span>print<span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="o">}</span><span class="err">&#39;</span><span class="w"> </span>/etc/passwd
</code></pre></div>
<h2 id="reference">Reference</h2>
<ul>
<li>https://www.gnu.org/software/gawk/manual/gawk.html</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      GWASTutorial is licensed under the MIT license
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.top", "navigation.tracking", "navigation.path"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.51198bba.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../javascripts/tablesort.js"></script>
      
    
  </body>
</html>